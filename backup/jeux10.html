<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš€ DEMO PLAYGROUND - Terrain d'EntraÃ®nement Futuriste</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a3e 30%, #2d1b69 70%, #4c1d95 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Particules futuristes d'arriÃ¨re-plan */
        .cyber-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .cyber-particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: #00ffff;
            border-radius: 50%;
            animation: cyberFloat 20s infinite linear;
            box-shadow: 0 0 20px #00ffff, 0 0 40px #0080ff;
        }

        @keyframes cyberFloat {
            0% {
                transform: translateY(100vh) translateX(0) rotate(0deg) scale(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
                transform: translateY(90vh) translateX(50px) rotate(90deg) scale(1);
            }
            50% {
                transform: translateY(50vh) translateX(-60px) rotate(180deg) scale(1.8);
            }
            90% {
                opacity: 1;
                transform: translateY(10vh) translateX(80px) rotate(270deg) scale(1);
            }
            100% {
                transform: translateY(-10vh) translateX(120px) rotate(360deg) scale(0);
                opacity: 0;
            }
        }

        /* Grille cyber de fond */
        .cyber-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 100px 100px;
            animation: cyberGridPulse 25s linear infinite;
            z-index: 1;
        }

        @keyframes cyberGridPulse {
            0%, 100% { 
                transform: translate(0, 0) scale(1);
                opacity: 0.2;
            }
            50% { 
                transform: translate(50px, 50px) scale(1.1);
                opacity: 0.4;
            }
        }

        /* Container principal */
        .playground-container {
            position: relative;
            z-index: 10;
            display: grid;
            grid-template-columns: 200px 1fr 200px;
            grid-template-rows: 1fr;
            gap: 20px;
            min-height: 100vh;
            padding: 20px;
            max-width: 100%;
            margin: 0;
        }

        .game-panel {
            background: linear-gradient(145deg, 
                rgba(15, 15, 35, 0.95) 0%,
                rgba(26, 26, 62, 0.95) 30%,
                rgba(45, 27, 105, 0.95) 70%,
                rgba(76, 29, 149, 0.95) 100%);
            backdrop-filter: blur(40px);
            border-radius: 30px;
            padding: 30px;
            width: 100%;
            height: fit-content;
            box-shadow: 
                0 40px 80px rgba(0, 0, 0, 0.9),
                0 0 150px rgba(0, 255, 255, 0.3),
                inset 0 2px 0 rgba(255, 255, 255, 0.1);
            border: 4px solid rgba(0, 255, 255, 0.5);
            animation: cyberPanelGlow 6s ease-in-out infinite alternate;
            grid-column: 2;
        }

        .left-panel, .right-panel {
            background: linear-gradient(145deg, 
                rgba(15, 15, 35, 0.95) 0%,
                rgba(26, 26, 62, 0.95) 30%,
                rgba(45, 27, 105, 0.95) 70%,
                rgba(76, 29, 149, 0.95) 100%);
            backdrop-filter: blur(40px);
            border-radius: 20px;
            padding: 18px;
            height: fit-content;
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.7),
                0 0 80px rgba(0, 255, 255, 0.2),
                inset 0 2px 0 rgba(255, 255, 255, 0.1);
            border: 3px solid rgba(0, 255, 255, 0.4);
        }

        .right-panel {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .panel-section {
            margin-bottom: 18px;
        }

        @keyframes cyberPanelGlow {
            from { 
                box-shadow: 
                    0 40px 80px rgba(0, 0, 0, 0.9),
                    0 0 150px rgba(0, 255, 255, 0.3),
                    inset 0 2px 0 rgba(255, 255, 255, 0.1);
            }
            to { 
                box-shadow: 
                    0 45px 90px rgba(0, 0, 0, 0.9),
                    0 0 200px rgba(0, 255, 255, 0.4),
                    inset 0 2px 0 rgba(255, 255, 255, 0.2);
            }
        }

        /* En-tÃªte du jeu */
        .cyber-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 18px;
            padding-bottom: 15px;
            border-bottom: 3px solid rgba(0, 255, 255, 0.5);
        }

        .cyber-title {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .cyber-title h1 {
            color: #00ffff;
            margin: 0;
            font-size: 20px;
            font-weight: 700;
            text-shadow: 0 0 30px rgba(0, 255, 255, 0.9);
            animation: cyberTitlePulse 5s infinite alternate;
        }

        @keyframes cyberTitlePulse {
            from { 
                text-shadow: 0 0 50px rgba(0, 255, 255, 0.9);
                transform: scale(1);
            }
            to { 
                text-shadow: 0 0 70px rgba(0, 255, 255, 1);
                transform: scale(1.08);
            }
        }

        .cyber-icon {
            font-size: 24px;
            animation: cyberIconRotate 8s ease-in-out infinite;
            filter: drop-shadow(0 0 20px #00ffff);
        }

        @keyframes cyberIconRotate {
            0%, 100% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.2) rotate(90deg); }
            50% { transform: scale(1.1) rotate(180deg); }
            75% { transform: scale(1.2) rotate(270deg); }
        }

        .cyber-badge {
            background: linear-gradient(45deg, #00ffff, #0080ff, #4040ff, #8000ff);
            background-size: 400% 400%;
            color: white;
            padding: 10px 18px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: bold;
            animation: cyberBadgeShine 6s ease-in-out infinite;
            box-shadow: 0 0 25px rgba(0, 255, 255, 0.6);
        }

        @keyframes cyberBadgeShine {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* SÃ©lecteur de langue personnalisÃ© */
        .language-dropdown {
            position: relative;
            display: inline-block;
        }

        .language-selector {
            background: linear-gradient(145deg, 
                rgba(15, 15, 35, 0.95) 0%,
                rgba(26, 26, 62, 0.95) 30%,
                rgba(45, 27, 105, 0.95) 70%,
                rgba(0, 255, 255, 0.95) 100%);
            color: #00ffff;
            border: 4px solid rgba(0, 255, 255, 0.6);
            border-radius: 25px;
            padding: 18px 25px;
            font-weight: bold;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.4s ease;
            box-shadow: 
                0 0 40px rgba(0, 255, 255, 0.4),
                0 0 60px rgba(0, 128, 255, 0.2),
                inset 0 2px 0 rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(25px);
            min-width: 200px;
            text-shadow: 0 0 20px rgba(0, 255, 255, 0.8);
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
        }

        .language-selector:hover {
            background: linear-gradient(145deg, 
                rgba(0, 255, 255, 0.9) 0%,
                rgba(0, 128, 255, 0.9) 30%,
                rgba(64, 64, 255, 0.9) 70%,
                rgba(128, 0, 255, 0.9) 100%);
            transform: translateY(-4px);
            box-shadow: 
                0 15px 40px rgba(0, 255, 255, 0.6),
                0 0 80px rgba(0, 128, 255, 0.4),
                inset 0 2px 0 rgba(255, 255, 255, 0.2);
            color: white;
            text-shadow: 0 0 25px rgba(255, 255, 255, 0.8);
        }

        .language-dropdown-arrow {
            font-size: 14px;
            transition: transform 0.3s ease;
        }

        .language-dropdown.open .language-dropdown-arrow {
            transform: rotate(180deg);
        }

        .language-dropdown-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background: linear-gradient(145deg, 
                rgba(15, 15, 35, 0.98) 0%,
                rgba(26, 26, 62, 0.98) 50%,
                rgba(45, 27, 105, 0.98) 100%);
            backdrop-filter: blur(40px);
            border: 4px solid rgba(0, 255, 255, 0.6);
            border-radius: 20px;
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.9),
                0 0 80px rgba(0, 255, 255, 0.4);
            min-width: 220px;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-15px);
            transition: all 0.3s ease;
            margin-top: 12px;
        }

        .language-dropdown.open .language-dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .language-option {
            padding: 18px 25px;
            color: #00ffff;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .language-option:last-child {
            border-bottom: none;
            border-radius: 0 0 16px 16px;
        }

        .language-option:first-child {
            border-radius: 16px 16px 0 0;
        }

        .language-option:hover {
            background: rgba(0, 255, 255, 0.3);
            color: white;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
        }

        .language-option.active {
            background: rgba(0, 255, 255, 0.5);
            color: white;
        }

        /* SÃ©lecteur compact pour la difficultÃ© */
        .compact-selector {
            background: linear-gradient(145deg, 
                rgba(15, 15, 35, 0.95) 0%,
                rgba(26, 26, 62, 0.95) 30%,
                rgba(45, 27, 105, 0.95) 70%,
                rgba(0, 255, 255, 0.95) 100%);
            color: #00ffff;
            border: 3px solid rgba(0, 255, 255, 0.6);
            border-radius: 15px;
            padding: 12px 18px;
            font-weight: bold;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.4s ease;
            box-shadow: 
                0 0 25px rgba(0, 255, 255, 0.3),
                0 0 40px rgba(0, 128, 255, 0.1),
                inset 0 2px 0 rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            text-shadow: 0 0 15px rgba(0, 255, 255, 0.6);
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
        }

        .compact-selector option {
            background: rgba(15, 15, 35, 0.98);
            color: #00ffff;
            padding: 10px;
            font-weight: bold;
        }

        .compact-selector:hover {
            background: linear-gradient(145deg, 
                rgba(0, 255, 255, 0.8) 0%,
                rgba(0, 128, 255, 0.8) 30%,
                rgba(64, 64, 255, 0.8) 70%,
                rgba(128, 0, 255, 0.8) 100%);
            transform: translateY(-2px);
            box-shadow: 
                0 8px 25px rgba(0, 255, 255, 0.5),
                0 0 50px rgba(0, 128, 255, 0.3),
                inset 0 2px 0 rgba(255, 255, 255, 0.2);
            color: white;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
        }

        /* Panneau de titre des sections */
        .panel-title {
            color: #00ffff;
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 0 0 20px rgba(0, 255, 255, 0.9);
            border-bottom: 3px solid rgba(0, 255, 255, 0.4);
            padding-bottom: 10px;
        }

        /* Zone de jeu principale */
        .playground-arena {
            background: rgba(0, 0, 0, 0.9);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            border: 4px solid rgba(0, 255, 255, 0.6);
            box-shadow: 
                0 0 50px rgba(0, 255, 255, 0.4),
                inset 0 0 30px rgba(0, 255, 255, 0.1);
            width: 100%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            min-height: 400px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .game-grid {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            grid-template-rows: repeat(8, 1fr);
            gap: 3px;
            background: rgba(0, 255, 255, 0.1);
            padding: 15px;
            border-radius: 15px;
            border: 2px solid rgba(0, 255, 255, 0.3);
        }

        .grid-cell {
            width: 50px;
            height: 50px;
            background: linear-gradient(145deg, #1a1a3e, #0f0f23);
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
        }

        .grid-cell:hover {
            background: linear-gradient(145deg, #00ffff, #0080ff);
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.8);
            transform: scale(1.1);
            border-color: #00ffff;
        }

        .grid-cell.player {
            background: linear-gradient(145deg, #00ff00, #008000);
            box-shadow: 0 0 30px rgba(0, 255, 0, 0.8);
            color: white;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
        }

        .grid-cell.ai {
            background: linear-gradient(145deg, #ff0080, #800040);
            box-shadow: 0 0 30px rgba(255, 0, 128, 0.8);
            color: white;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
        }

        .grid-cell.target {
            background: linear-gradient(145deg, #ffff00, #ff8000);
            box-shadow: 0 0 30px rgba(255, 255, 0, 0.8);
            animation: targetPulse 2s ease-in-out infinite alternate;
        }

        @keyframes targetPulse {
            from { 
                box-shadow: 0 0 30px rgba(255, 255, 0, 0.8);
                transform: scale(1);
            }
            to { 
                box-shadow: 0 0 40px rgba(255, 255, 0, 1);
                transform: scale(1.05);
            }
        }

        /* ContrÃ´les du jeu */
        .game-controls {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .cyber-btn {
            padding: 20px 40px;
            background: linear-gradient(145deg, #00ffff, #0080ff);
            color: white;
            border: none;
            border-radius: 25px;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 2px;
            min-width: 180px;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.4);
        }

        .compact-btn {
            padding: 12px 20px;
            font-size: 12px;
            min-width: 120px;
            letter-spacing: 1px;
        }

        .cyber-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.6s ease;
        }

        .cyber-btn:hover::before {
            left: 100%;
        }

        .cyber-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 255, 255, 0.6);
            background: linear-gradient(145deg, #0080ff, #4040ff);
        }

        .cyber-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .start-btn {
            background: linear-gradient(145deg, #00ff00, #008000);
        }

        .start-btn:hover {
            background: linear-gradient(145deg, #008000, #004000);
        }

        .reset-btn {
            background: linear-gradient(145deg, #ff4040, #800020);
        }

        .reset-btn:hover {
            background: linear-gradient(145deg, #800020, #400010);
        }

        /* Statistiques du jeu */
        .game-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 20px;
        }

        .stat-item {
            background: rgba(0, 255, 255, 0.15);
            padding: 12px;
            border-radius: 15px;
            text-align: center;
            border: 3px solid rgba(0, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        .stat-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.3), transparent);
            animation: statCyberScan 6s linear infinite;
        }

        @keyframes statCyberScan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .stat-label {
            display: block;
            color: #a1a1aa;
            font-size: 10px;
            margin-bottom: 6px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stat-value {
            display: block;
            color: #00ffff;
            font-size: 16px;
            font-weight: bold;
            text-shadow: 0 0 20px rgba(0, 255, 255, 0.9);
            position: relative;
            z-index: 1;
        }

        /* Messages de jeu */
        .game-message {
            text-align: center;
            margin-bottom: 25px;
            padding: 20px;
            border-radius: 15px;
            background: rgba(0, 255, 255, 0.15);
            border: 3px solid rgba(0, 255, 255, 0.3);
            color: #00ffff;
            font-weight: bold;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        /* IA Status */
        .ai-thinking {
            animation: aiThinking 2.5s ease-in-out infinite;
        }

        @keyframes aiThinking {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.4; }
        }

        /* Niveaux de difficultÃ© */
        .difficulty-indicator {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin: 15px 0;
        }

        .difficulty-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(0, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .difficulty-dot.active {
            background: #00ffff;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.8);
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .playground-container {
                grid-template-columns: 180px 1fr 180px;
                gap: 15px;
                padding: 15px;
            }
        }

        @media (max-width: 900px) {
            .playground-container {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto;
                gap: 20px;
            }
            
            .left-panel {
                grid-row: 2;
            }
            
            .right-panel {
                grid-row: 3;
            }
        }

        @media (max-width: 768px) {
            .game-panel {
                padding: 25px;
            }
            
            .cyber-title h1 {
                font-size: 24px;
            }
            
            .playground-arena {
                max-width: 450px;
                padding: 20px;
            }
            
            .game-grid {
                grid-template-columns: repeat(6, 1fr);
                grid-template-rows: repeat(6, 1fr);
            }
            
            .grid-cell {
                width: 40px;
                height: 40px;
                font-size: 18px;
            }
            
            .game-controls {
                flex-direction: column;
                gap: 20px;
            }
            
            .cyber-btn {
                min-width: 160px;
                padding: 18px 30px;
            }
        }

        @media (max-width: 480px) {
            .playground-arena {
                max-width: 350px;
            }
            
            .grid-cell {
                width: 35px;
                height: 35px;
                font-size: 16px;
            }
            
            .cyber-title {
                flex-direction: column;
                gap: 20px;
            }
            
            .cyber-title h1 {
                font-size: 20px;
            }
        }

        /* Animations de victoire */
        .victory-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            backdrop-filter: blur(25px);
        }

        .victory-content {
            background: linear-gradient(145deg, rgba(15, 15, 35, 0.95), rgba(45, 27, 105, 0.95));
            border: 5px solid #00ffff;
            border-radius: 30px;
            padding: 60px;
            text-align: center;
            color: white;
            font-size: 26px;
            font-weight: bold;
            max-width: 700px;
            box-shadow: 0 0 80px rgba(0, 255, 255, 0.8);
            animation: victoryPulse 4s ease-in-out infinite alternate;
        }

        @keyframes victoryPulse {
            from { 
                box-shadow: 0 0 80px rgba(0, 255, 255, 0.8);
                transform: scale(1);
            }
            to { 
                box-shadow: 0 0 120px rgba(0, 255, 255, 1);
                transform: scale(1.08);
            }
        }
    </style>
</head>
<body>
    <!-- Particules cyber d'arriÃ¨re-plan -->
    <div class="cyber-particles" id="cyberParticles"></div>
    
    <!-- Grille cyber -->
    <div class="cyber-grid"></div>
    
    <!-- Container principal -->
    <div class="playground-container">
        <!-- Panneau gauche -->
        <div class="left-panel">
            <div class="panel-section">
                <div class="panel-title" id="statsTitle">ğŸ“Š Statistiques</div>
                <div class="game-stats">
                    <div class="stat-item">
                        <span class="stat-label" id="scoreLabel">Score</span>
                        <span class="stat-value" id="scoreValue">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label" id="levelLabel">Niveau</span>
                        <span class="stat-value" id="levelValue">1</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label" id="movesLabel">Mouvements</span>
                        <span class="stat-value" id="movesValue">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label" id="timeLabel">Temps</span>
                        <span class="stat-value" id="timeValue">00:00</span>
                    </div>
                </div>
            </div>

            <div class="panel-section">
                <div class="panel-title" id="controlsTitle">âš¡ ContrÃ´les Cyber</div>
                <div style="display: grid; gap: 18px;">
                    <button class="cyber-btn start-btn compact-btn" onclick="startGame()">
                        ğŸš€ <span id="startGameText">DÃ©marrer Mission</span>
                    </button>
                    <button class="cyber-btn reset-btn compact-btn" onclick="resetGame()" id="resetBtn">
                        ğŸ”„ <span id="resetText">Reset Arena</span>
                    </button>
                    <button class="cyber-btn compact-btn" onclick="getHint()" id="hintBtn">
                        ğŸ§  <span id="hintText">Analyse IA</span>
                    </button>
                    <button class="cyber-btn compact-btn" onclick="pauseGame()" id="pauseBtn">
                        <span id="pauseIcon">â¸ï¸</span> <span id="pauseText">Pause</span>
                    </button>
                </div>
            </div>

            <div class="panel-section">
                <div class="panel-title" id="difficultyTitle">ğŸ¯ Niveau Mission</div>
                <select id="difficultySelector" onchange="changeDifficulty()" class="compact-selector" style="width: 100%; text-align: center; margin-bottom: 15px;">
                    <option value="1">ğŸŸ¢ Recrue</option>
                    <option value="2">ğŸŸ¡ Soldat</option>
                    <option value="3" selected>ğŸŸ  VÃ©tÃ©ran</option>
                    <option value="4">ğŸ”´ Elite</option>
                    <option value="5">ğŸŸ£ LÃ©gende</option>
                </select>
                <div class="difficulty-indicator" id="difficultyIndicator">
                    <div class="difficulty-dot"></div>
                    <div class="difficulty-dot"></div>
                    <div class="difficulty-dot active"></div>
                    <div class="difficulty-dot"></div>
                    <div class="difficulty-dot"></div>
                </div>
            </div>
        </div>

        <!-- Panneau central -->
        <div class="game-panel">
            <!-- En-tÃªte -->
            <div class="cyber-header">
                <div class="cyber-title">
                    <span class="cyber-icon">ğŸš€</span>
                    <h1 id="gameTitle">DEMO PLAYGROUND</h1>
                    <span class="cyber-badge" id="cyberBadge">ğŸ¤– IA FUTURISTE</span>
                </div>
                <div style="display: flex; align-items: center; gap: 30px;">
                    <div class="language-dropdown" id="languageDropdown">
                        <div class="language-selector" onclick="toggleLanguageDropdown()">
                            <span id="selectedLanguage">ğŸ‡«ğŸ‡· FranÃ§ais</span>
                            <span class="language-dropdown-arrow">â–¼</span>
                        </div>
                        <div class="language-dropdown-menu" id="languageMenu">
                            <div class="language-option active" onclick="selectLanguage('fr', 'ğŸ‡«ğŸ‡· FranÃ§ais')">ğŸ‡«ğŸ‡· FranÃ§ais</div>
                            <div class="language-option" onclick="selectLanguage('en', 'ğŸ‡ºğŸ‡¸ English')">ğŸ‡ºğŸ‡¸ English</div>
                            <div class="language-option" onclick="selectLanguage('ar', 'ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©')">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</div>
                            <div class="language-option" onclick="selectLanguage('es', 'ğŸ‡ªğŸ‡¸ EspaÃ±ol')">ğŸ‡ªğŸ‡¸ EspaÃ±ol</div>
                            <div class="language-option" onclick="selectLanguage('de', 'ğŸ‡©ğŸ‡ª Deutsch')">ğŸ‡©ğŸ‡ª Deutsch</div>
                            <div class="language-option" onclick="selectLanguage('zh', 'ğŸ‡¨ğŸ‡³ ä¸­æ–‡')">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Message de jeu -->
            <div class="game-message" id="gameMessage">
                <span id="welcomeMessage">ğŸš€ Bienvenue dans le Terrain d'EntraÃ®nement Futuriste</span>
            </div>

            <!-- Zone de jeu principale -->
            <div class="playground-arena" id="playgroundArena">
                <div class="game-grid" id="gameGrid">
                    <!-- Les cellules seront gÃ©nÃ©rÃ©es par JavaScript -->
                </div>
            </div>
        </div>

        <!-- Panneau droit -->
        <div class="right-panel">
            <div class="panel-section">
                <div class="panel-title" id="missionTitle">ğŸ¯ Objectif Mission</div>
                <div style="color: #a1a1aa; font-size: 15px; line-height: 2;">
                    <p id="missionText">
                        â€¢ Collectez tous les orbes d'Ã©nergie<br>
                        â€¢ Ã‰vitez les sentinelles IA<br>
                        â€¢ Atteignez la zone d'extraction<br>
                        â€¢ Optimisez votre score temporel<br>
                        â€¢ MaÃ®trisez chaque niveau progressif
                    </p>
                </div>
            </div>

            <div class="panel-section">
                <div class="panel-title" id="strategiesTitle">ğŸ§  StratÃ©gies</div>
                <div style="color: #a1a1aa; font-size: 14px; line-height: 1.8;">
                    <div style="margin-bottom: 12px;">
                        <span style="color: #00ff00;">ğŸŸ¢</span> <span id="strategy1Text">Planifiez vos mouvements</span>
                    </div>
                    <div style="margin-bottom: 12px;">
                        <span style="color: #00ffff;">ğŸ”µ</span> <span id="strategy2Text">Analysez les patterns IA</span>
                    </div>
                    <div style="margin-bottom: 12px;">
                        <span style="color: #ffff00;">ğŸŸ¡</span> <span id="strategy3Text">Optimisez le temps</span>
                    </div>
                    <div style="margin-bottom: 12px;">
                        <span style="color: #ff0080;">ğŸŸ£</span> <span id="strategy4Text">Adaptez-vous aux niveaux</span>
                    </div>
                </div>
            </div>

            <div class="panel-section">
                <div class="panel-title" id="aiStatusTitle">ğŸ¤– Ã‰tat IA</div>
                <div id="aiStatus" style="color: #00ffff; font-size: 15px; text-align: center; padding: 18px;">
                    <span id="aiStatusText">SystÃ¨me IA InitialisÃ©</span>
                </div>
                <div style="color: #a1a1aa; font-size: 13px; text-align: center; margin-top: 15px;" id="aiAnalysis">
                    <span id="aiAnalysisText">Analyse comportementale en cours...</span>
                </div>
            </div>

            <div class="panel-section">
                <div class="panel-title" id="achievementsTitle">ğŸ† SuccÃ¨s</div>
                <div id="achievementsList" style="color: #a1a1aa; font-size: 12px; max-height: 140px; overflow-y: auto; line-height: 1.6;">
                    <div id="achievementsContent">Aucun succÃ¨s dÃ©bloquÃ©</div>
                </div>
            </div>
        </div>
    </div>

    <style>
        .global-close-btn { position: fixed; top: 14px; right: 14px; z-index: 99999; background: #ff3b3b; color: #fff; border: none; width:52px; height:52px; border-radius:50%; font-size:22px; cursor:pointer; box-shadow:0 6px 18px rgba(255,59,59,0.3);} 
        .global-close-btn:hover{ transform: scale(1.05); }
    </style>
    <button class="global-close-btn" title="Fermer" aria-label="Fermer" onclick="closePlatform()">âœ•</button>
    <script>
        function closePlatform(){
            try{ console.debug('jeux10: closePlatform called'); }catch(e){}
            try{
                if(window.parent && window.parent !== window){
                    window.parent.postMessage({ action: 'close', reason: 'user-initiated', source: 'jeux10' }, '*');
                    return;
                }
            }catch(e){}
            try{
                if(window.opener && !window.opener.closed){
                    try{ window.opener.postMessage({ action: 'child-closed', source: 'jeux10' }, '*'); }catch(e){}
                    try{ window.close(); }catch(e){}
                    return;
                }
            }catch(e){}
            try{ window.location.href = '/brainova.html'; }catch(e){}
        }
    </script>
    <script>
        // Traductions multilingues
        const translations = {
            fr: {
                gameTitle: "DEMO PLAYGROUND",
                cyberBadge: "ğŸ¤– IA FUTURISTE",
                controlsTitle: "âš¡ ContrÃ´les Cyber",
                statsTitle: "ğŸ“Š Statistiques",
                difficultyTitle: "ğŸ¯ Niveau Mission",
                missionTitle: "ğŸ¯ Objectif Mission",
                strategiesTitle: "ğŸ§  StratÃ©gies",
                aiStatusTitle: "ğŸ¤– Ã‰tat IA",
                achievementsTitle: "ğŸ† SuccÃ¨s",
                startGameText: "DÃ©marrer Mission",
                resetText: "Reset Arena",
                hintText: "Analyse IA",
                pauseText: "Pause",
                resumeText: "Reprendre",
                scoreLabel: "Score",
                levelLabel: "Niveau",
                movesLabel: "Mouvements",
                timeLabel: "Temps",
                welcomeMessage: "ğŸš€ Bienvenue dans le Terrain d'EntraÃ®nement Futuriste",
                missionText: "â€¢ Collectez tous les orbes d'Ã©nergie<br>â€¢ Ã‰vitez les sentinelles IA<br>â€¢ Atteignez la zone d'extraction<br>â€¢ Optimisez votre score temporel<br>â€¢ MaÃ®trisez chaque niveau progressif",
                strategy1Text: "Planifiez vos mouvements",
                strategy2Text: "Analysez les patterns IA",
                strategy3Text: "Optimisez le temps",
                strategy4Text: "Adaptez-vous aux niveaux",
                aiStatusText: "SystÃ¨me IA InitialisÃ©",
                aiAnalysisText: "Analyse comportementale en cours...",
                achievementsContent: "Aucun succÃ¨s dÃ©bloquÃ©",
                gameStarted: "ğŸš€ Mission commencÃ©e - Collectez les orbes !",
                gameWon: "ğŸ‰ Mission accomplie ! Niveau suivant dÃ©bloquÃ© !",
                gameLost: "ğŸ’¥ Mission Ã©chouÃ©e ! RÃ©essayez pour amÃ©liorer votre score !",
                gamePaused: "â¸ï¸ Mission en pause - Cliquez pour reprendre",
                hintMessage: "ğŸ’¡ Conseil Tactique: Analysez les mouvements IA",
                levelUp: "â¬†ï¸ Niveau supÃ©rieur ! DifficultÃ© augmentÃ©e !",
                perfectScore: "â­ Score parfait ! MaÃ®trise totale !",
                speedBonus: "âš¡ Bonus vitesse ! ExÃ©cution rapide !",
                energyBoostMessage: "âš¡ BOOST D'Ã‰NERGIE ACTIVÃ‰! Sentinelles ralenties! âš¡",
                difficultyLevels: {
                    1: "ğŸŸ¢ Recrue",
                    2: "ğŸŸ¡ Soldat", 
                    3: "ğŸŸ  VÃ©tÃ©ran",
                    4: "ğŸ”´ Elite",
                    5: "ğŸŸ£ LÃ©gende"
                }
            },
            en: {
                gameTitle: "DEMO PLAYGROUND",
                cyberBadge: "ğŸ¤– FUTURISTIC AI",
                controlsTitle: "âš¡ Cyber Controls",
                statsTitle: "ğŸ“Š Statistics",
                difficultyTitle: "ğŸ¯ Mission Level",
                missionTitle: "ğŸ¯ Mission Objective",
                strategiesTitle: "ğŸ§  Strategies",
                aiStatusTitle: "ğŸ¤– AI Status",
                achievementsTitle: "ğŸ† Achievements",
                startGameText: "Start Mission",
                resetText: "Reset Arena",
                hintText: "AI Analysis",
                pauseText: "Pause",
                resumeText: "Resume",
                scoreLabel: "Score",
                levelLabel: "Level",
                movesLabel: "Moves",
                timeLabel: "Time",
                welcomeMessage: "ğŸš€ Welcome to the Futuristic Training Ground",
                missionText: "â€¢ Collect all energy orbs<br>â€¢ Avoid AI sentinels<br>â€¢ Reach extraction zone<br>â€¢ Optimize time score<br>â€¢ Master each progressive level",
                strategy1Text: "Plan your movements",
                strategy2Text: "Analyze AI patterns",
                strategy3Text: "Optimize timing",
                strategy4Text: "Adapt to levels",
                aiStatusText: "AI System Initialized",
                aiAnalysisText: "Behavioral analysis in progress...",
                achievementsContent: "No achievements unlocked",
                gameStarted: "ğŸš€ Mission started - Collect the orbs!",
                gameWon: "ğŸ‰ Mission accomplished! Next level unlocked!",
                gameLost: "ğŸ’¥ Mission failed! Try again to improve your score!",
                gamePaused: "â¸ï¸ Mission paused - Click to resume",
                hintMessage: "ğŸ’¡ Tactical Advice: Analyze AI movements",
                levelUp: "â¬†ï¸ Level up! Difficulty increased!",
                perfectScore: "â­ Perfect score! Total mastery!",
                speedBonus: "âš¡ Speed bonus! Fast execution!",
                energyBoostMessage: "âš¡ ENERGY BOOST ACTIVATED! Sentinels slowed! âš¡",
                difficultyLevels: {
                    1: "ğŸŸ¢ Recruit",
                    2: "ğŸŸ¡ Soldier",
                    3: "ğŸŸ  Veteran", 
                    4: "ğŸ”´ Elite",
                    5: "ğŸŸ£ Legend"
                }
            },
            ar: {
                gameTitle: "Ø³Ø§Ø­Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©",
                cyberBadge: "ğŸ¤– Ø°ÙƒØ§Ø¡ Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ",
                controlsTitle: "âš¡ ØªØ­ÙƒÙ… Ø³Ø§ÙŠØ¨Ø±",
                statsTitle: "ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª",
                difficultyTitle: "ğŸ¯ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…Ù‡Ù…Ø©",
                missionTitle: "ğŸ¯ Ù‡Ø¯Ù Ø§Ù„Ù…Ù‡Ù…Ø©",
                strategiesTitle: "ğŸ§  Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª",
                aiStatusTitle: "ğŸ¤– Ø­Ø§Ù„Ø© Ø§Ù„Ø°ÙƒØ§Ø¡",
                achievementsTitle: "ğŸ† Ø¥Ù†Ø¬Ø§Ø²Ø§Øª",
                startGameText: "Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ù‡Ù…Ø©",
                resetText: "Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø³Ø§Ø­Ø©",
                hintText: "ØªØ­Ù„ÙŠÙ„ Ø°ÙƒØ§Ø¡",
                pauseText: "Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª",
                resumeText: "Ø§Ø³ØªØ¦Ù†Ø§Ù",
                scoreLabel: "Ø§Ù„Ù†Ù‚Ø§Ø·",
                levelLabel: "Ø§Ù„Ù…Ø³ØªÙˆÙ‰",
                movesLabel: "Ø§Ù„Ø­Ø±ÙƒØ§Øª",
                timeLabel: "Ø§Ù„ÙˆÙ‚Øª",
                welcomeMessage: "ğŸš€ Ù…Ø±Ø­Ø¨Ø§Ù‹ ÙÙŠ Ø³Ø§Ø­Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©",
                missionText: "â€¢ Ø§Ø¬Ù…Ø¹ Ø¬Ù…ÙŠØ¹ ÙƒØ±Ø§Øª Ø§Ù„Ø·Ø§Ù‚Ø©<br>â€¢ ØªØ¬Ù†Ø¨ Ø­Ø±Ø§Ø³ Ø§Ù„Ø°ÙƒØ§Ø¡<br>â€¢ Ø§ÙˆØµÙ„ Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¥Ø®Ù„Ø§Ø¡<br>â€¢ Ø­Ø³Ù† Ù†Ù‚Ø§Ø· Ø§Ù„ÙˆÙ‚Øª<br>â€¢ Ø£ØªÙ‚Ù† ÙƒÙ„ Ù…Ø³ØªÙˆÙ‰ ØªØ¯Ø±ÙŠØ¬ÙŠ",
                strategy1Text: "Ø®Ø·Ø· Ù„Ø­Ø±ÙƒØ§ØªÙƒ",
                strategy2Text: "Ø­Ù„Ù„ Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø°ÙƒØ§Ø¡",
                strategy3Text: "Ø­Ø³Ù† Ø§Ù„ØªÙˆÙ‚ÙŠØª",
                strategy4Text: "ØªÙƒÙŠÙ Ù…Ø¹ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª",
                aiStatusText: "Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ù…Ù‡ÙŠØ£",
                aiAnalysisText: "ØªØ­Ù„ÙŠÙ„ Ø³Ù„ÙˆÙƒÙŠ Ø¬Ø§Ø±ÙŠ...",
                achievementsContent: "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ù…ÙØªÙˆØ­Ø©",
                gameStarted: "ğŸš€ Ø¨Ø¯Ø£Øª Ø§Ù„Ù…Ù‡Ù…Ø© - Ø§Ø¬Ù…Ø¹ Ø§Ù„ÙƒØ±Ø§Øª!",
                gameWon: "ğŸ‰ ØªÙ…Øª Ø§Ù„Ù…Ù‡Ù…Ø©! Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ Ù…ÙØªÙˆØ­!",
                gameLost: "ğŸ’¥ ÙØ´Ù„Øª Ø§Ù„Ù…Ù‡Ù…Ø©! Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„ØªØ­Ø³ÙŠÙ† Ù†Ù‚Ø§Ø·Ùƒ!",
                gamePaused: "â¸ï¸ Ø§Ù„Ù…Ù‡Ù…Ø© Ù…ØªÙˆÙ‚ÙØ© - Ø§Ø¶ØºØ· Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©",
                hintMessage: "ğŸ’¡ Ù†ØµÙŠØ­Ø© ØªÙƒØªÙŠÙƒÙŠØ©: Ø­Ù„Ù„ Ø­Ø±ÙƒØ§Øª Ø§Ù„Ø°ÙƒØ§Ø¡",
                levelUp: "â¬†ï¸ Ù…Ø³ØªÙˆÙ‰ Ø£Ø¹Ù„Ù‰! Ø²Ø§Ø¯Øª Ø§Ù„ØµØ¹ÙˆØ¨Ø©!",
                perfectScore: "â­ Ù†Ù‚Ø§Ø· Ù…Ø«Ø§Ù„ÙŠØ©! Ø¥ØªÙ‚Ø§Ù† ØªØ§Ù…!",
                speedBonus: "âš¡ Ù…ÙƒØ§ÙØ£Ø© Ø³Ø±Ø¹Ø©! ØªÙ†ÙÙŠØ° Ø³Ø±ÙŠØ¹!",
                energyBoostMessage: "âš¡ ØªÙ… ØªÙØ¹ÙŠÙ„ Ø¯ÙØ¹Ø© Ø§Ù„Ø·Ø§Ù‚Ø©! ØªØ¨Ø§Ø·Ø£ Ø§Ù„Ø­Ø±Ø§Ø³! âš¡",
                difficultyLevels: {
                    1: "ğŸŸ¢ Ù…Ø¬Ù†Ø¯",
                    2: "ğŸŸ¡ Ø¬Ù†Ø¯ÙŠ",
                    3: "ğŸŸ  Ù…Ø­Ø§Ø±Ø¨ Ù‚Ø¯ÙŠÙ…",
                    4: "ğŸ”´ Ù†Ø®Ø¨Ø©", 
                    5: "ğŸŸ£ Ø£Ø³Ø·ÙˆØ±Ø©"
                }
            },
            es: {
                gameTitle: "DEMO PLAYGROUND",
                cyberBadge: "ğŸ¤– IA FUTURISTA",
                controlsTitle: "âš¡ Controles Cyber",
                statsTitle: "ğŸ“Š EstadÃ­sticas",
                difficultyTitle: "ğŸ¯ Nivel MisiÃ³n",
                missionTitle: "ğŸ¯ Objetivo MisiÃ³n",
                strategiesTitle: "ğŸ§  Estrategias",
                aiStatusTitle: "ğŸ¤– Estado IA",
                achievementsTitle: "ğŸ† Logros",
                startGameText: "Iniciar MisiÃ³n",
                resetText: "Reset Arena",
                hintText: "AnÃ¡lisis IA",
                pauseText: "Pausa",
                resumeText: "Reanudar",
                scoreLabel: "PuntuaciÃ³n",
                levelLabel: "Nivel",
                movesLabel: "Movimientos",
                timeLabel: "Tiempo",
                welcomeMessage: "ğŸš€ Bienvenido al Campo de Entrenamiento Futurista",
                missionText: "â€¢ Recolecta todos los orbes de energÃ­a<br>â€¢ Evita los centinelas IA<br>â€¢ Alcanza la zona de extracciÃ³n<br>â€¢ Optimiza tu puntuaciÃ³n temporal<br>â€¢ Domina cada nivel progresivo",
                strategy1Text: "Planifica tus movimientos",
                strategy2Text: "Analiza patrones IA",
                strategy3Text: "Optimiza el tiempo",
                strategy4Text: "AdÃ¡ptate a los niveles",
                aiStatusText: "Sistema IA Inicializado",
                aiAnalysisText: "AnÃ¡lisis comportamental en curso...",
                achievementsContent: "NingÃºn logro desbloqueado",
                gameStarted: "ğŸš€ MisiÃ³n iniciada - Â¡Recolecta los orbes!",
                gameWon: "ğŸ‰ Â¡MisiÃ³n cumplida! Â¡Siguiente nivel desbloqueado!",
                gameLost: "ğŸ’¥ Â¡MisiÃ³n fallida! Â¡IntÃ©ntalo de nuevo para mejorar tu puntuaciÃ³n!",
                gamePaused: "â¸ï¸ MisiÃ³n pausada - Haz clic para reanudar",
                hintMessage: "ğŸ’¡ Consejo TÃ¡ctico: Analiza movimientos IA",
                levelUp: "â¬†ï¸ Â¡Subir nivel! Â¡Dificultad aumentada!",
                perfectScore: "â­ Â¡PuntuaciÃ³n perfecta! Â¡Dominio total!",
                speedBonus: "âš¡ Â¡Bonus velocidad! Â¡EjecuciÃ³n rÃ¡pida!",
                energyBoostMessage: "âš¡ Â¡IMPULSO DE ENERGÃA ACTIVADO! Â¡Centinelas ralentizados! âš¡",
                difficultyLevels: {
                    1: "ğŸŸ¢ Recluta",
                    2: "ğŸŸ¡ Soldado",
                    3: "ğŸŸ  Veterano",
                    4: "ğŸ”´ Elite",
                    5: "ğŸŸ£ Leyenda"
                }
            },
            de: {
                gameTitle: "DEMO PLAYGROUND",
                cyberBadge: "ğŸ¤– FUTURISTISCHE KI",
                controlsTitle: "âš¡ Cyber Steuerung",
                statsTitle: "ğŸ“Š Statistiken",
                difficultyTitle: "ğŸ¯ Missions Level",
                missionTitle: "ğŸ¯ Missions Ziel",
                strategiesTitle: "ğŸ§  Strategien",
                aiStatusTitle: "ğŸ¤– KI Status",
                achievementsTitle: "ğŸ† Erfolge",
                startGameText: "Mission Starten",
                resetText: "Arena Reset",
                hintText: "KI Analyse",
                pauseText: "Pause",
                resumeText: "Fortsetzen",
                scoreLabel: "Punkte",
                levelLabel: "Level",
                movesLabel: "ZÃ¼ge",
                timeLabel: "Zeit",
                welcomeMessage: "ğŸš€ Willkommen im Futuristischen TrainingsgelÃ¤nde",
                missionText: "â€¢ Sammle alle Energie-Orbs<br>â€¢ Vermeide KI-WÃ¤chter<br>â€¢ Erreiche die Extraktionszone<br>â€¢ Optimiere deine Zeitpunkte<br>â€¢ Meistere jedes progressive Level",
                strategy1Text: "Plane deine Bewegungen",
                strategy2Text: "Analysiere KI-Muster",
                strategy3Text: "Optimiere das Timing",
                strategy4Text: "Passe dich an Level an",
                aiStatusText: "KI-System Initialisiert",
                aiAnalysisText: "Verhaltensanalyse lÃ¤uft...",
                achievementsContent: "Keine Erfolge freigeschaltet",
                gameStarted: "ğŸš€ Mission gestartet - Sammle die Orbs!",
                gameWon: "ğŸ‰ Mission erfÃ¼llt! NÃ¤chstes Level freigeschaltet!",
                gameLost: "ğŸ’¥ Mission fehlgeschlagen! Versuche es erneut fÃ¼r bessere Punkte!",
                gamePaused: "â¸ï¸ Mission pausiert - Klicken zum Fortsetzen",
                hintMessage: "ğŸ’¡ Taktischer Rat: Analysiere KI-Bewegungen",
                levelUp: "â¬†ï¸ Level up! Schwierigkeit erhÃ¶ht!",
                perfectScore: "â­ Perfekte Punkte! Totale Meisterschaft!",
                speedBonus: "âš¡ Geschwindigkeitsbonus! Schnelle AusfÃ¼hrung!",
                energyBoostMessage: "âš¡ ENERGIE-BOOST AKTIVIERT! WÃ¤chter verlangsamt! âš¡",
                difficultyLevels: {
                    1: "ğŸŸ¢ Rekrut",
                    2: "ğŸŸ¡ Soldat",
                    3: "ğŸŸ  Veteran",
                    4: "ğŸ”´ Elite",
                    5: "ğŸŸ£ Legende"
                }
            },
            zh: {
                gameTitle: "æ¼”ç¤ºæ¸¸ä¹åœº",
                cyberBadge: "ğŸ¤– æœªæ¥äººå·¥æ™ºèƒ½",
                controlsTitle: "âš¡ ç½‘ç»œæ§åˆ¶",
                statsTitle: "ğŸ“Š ç»Ÿè®¡",
                difficultyTitle: "ğŸ¯ ä»»åŠ¡ç­‰çº§",
                missionTitle: "ğŸ¯ ä»»åŠ¡ç›®æ ‡",
                strategiesTitle: "ğŸ§  ç­–ç•¥",
                aiStatusTitle: "ğŸ¤– AIçŠ¶æ€",
                achievementsTitle: "ğŸ† æˆå°±",
                startGameText: "å¼€å§‹ä»»åŠ¡",
                resetText: "é‡ç½®ç«æŠ€åœº",
                hintText: "AIåˆ†æ",
                pauseText: "æš‚åœ",
                resumeText: "ç»§ç»­",
                scoreLabel: "åˆ†æ•°",
                levelLabel: "ç­‰çº§",
                movesLabel: "ç§»åŠ¨",
                timeLabel: "æ—¶é—´",
                welcomeMessage: "ğŸš€ æ¬¢è¿æ¥åˆ°æœªæ¥è®­ç»ƒåœº",
                missionText: "â€¢ æ”¶é›†æ‰€æœ‰èƒ½é‡çƒ<br>â€¢ é¿å¼€AIå“¨å…µ<br>â€¢ åˆ°è¾¾æ’¤ç¦»åŒº<br>â€¢ ä¼˜åŒ–æ—¶é—´åˆ†æ•°<br>â€¢ æŒæ¡æ¯ä¸ªæ¸è¿›çº§åˆ«",
                strategy1Text: "è§„åˆ’ä½ çš„ç§»åŠ¨",
                strategy2Text: "åˆ†æAIæ¨¡å¼",
                strategy3Text: "ä¼˜åŒ–æ—¶æœº",
                strategy4Text: "é€‚åº”çº§åˆ«",
                aiStatusText: "AIç³»ç»Ÿå·²åˆå§‹åŒ–",
                aiAnalysisText: "è¡Œä¸ºåˆ†æè¿›è¡Œä¸­...",
                achievementsContent: "æ²¡æœ‰è§£é”æˆå°±",
                gameStarted: "ğŸš€ ä»»åŠ¡å¼€å§‹ - æ”¶é›†èƒ½é‡çƒï¼",
                gameWon: "ğŸ‰ ä»»åŠ¡å®Œæˆï¼ä¸‹ä¸€çº§åˆ«è§£é”ï¼",
                gameLost: "ğŸ’¥ ä»»åŠ¡å¤±è´¥ï¼å†è¯•ä¸€æ¬¡æé«˜åˆ†æ•°ï¼",
                gamePaused: "â¸ï¸ ä»»åŠ¡æš‚åœ - ç‚¹å‡»ç»§ç»­",
                hintMessage: "ğŸ’¡ æˆ˜æœ¯å»ºè®®ï¼šåˆ†æAIç§»åŠ¨",
                levelUp: "â¬†ï¸ å‡çº§ï¼éš¾åº¦å¢åŠ ï¼",
                perfectScore: "â­ å®Œç¾åˆ†æ•°ï¼å®Œå…¨æŒæ¡ï¼",
                speedBonus: "âš¡ é€Ÿåº¦å¥–åŠ±ï¼å¿«é€Ÿæ‰§è¡Œï¼",
                energyBoostMessage: "âš¡ èƒ½é‡æå‡æ¿€æ´»ï¼å“¨å…µå‡é€Ÿï¼âš¡",
                difficultyLevels: {
                    1: "ğŸŸ¢ æ–°å…µ",
                    2: "ğŸŸ¡ å£«å…µ",
                    3: "ğŸŸ  è€å…µ",
                    4: "ğŸ”´ ç²¾è‹±",
                    5: "ğŸŸ£ ä¼ å¥‡"
                }
            }
        };

        // Ã‰tat du jeu
        let gameState = {
            currentLanguage: 'fr',
            isPlaying: false,
            isPaused: false,
            score: 0,
            level: 1,
            moves: 0,
            startTime: null,
            elapsedTime: 0,
            difficulty: 3,
            gridSize: 8,
            playerPos: {x: 0, y: 0},
            targets: [],
            obstacles: [],
            aiEntities: [],
            gameTimer: null,
            achievements: [],
            energyBoostTurns: 0, // Tours restants du boost d'Ã©nergie
            levelAttempts: {}, // Compteur de tentatives par niveau
            speedBoosts: {} // Bonus de vitesse accumulÃ©s par niveau
        };

        // CrÃ©er les particules cyber
        function createCyberParticles() {
            const container = document.getElementById('cyberParticles');
            
            for(let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'cyber-particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 20 + 's';
                particle.style.animationDuration = (20 + Math.random() * 10) + 's';
                container.appendChild(particle);
            }
        }

        // Fonctions du sÃ©lecteur de langue
        function toggleLanguageDropdown() {
            const dropdown = document.getElementById('languageDropdown');
            dropdown.classList.toggle('open');
        }

        function selectLanguage(langCode, langText) {
            gameState.currentLanguage = langCode;
            document.getElementById('selectedLanguage').textContent = langText;
            
            const options = document.querySelectorAll('.language-option');
            options.forEach(option => option.classList.remove('active'));
            event.target.classList.add('active');
            
            document.getElementById('languageDropdown').classList.remove('open');
            changeLanguage();
        }

        // Fermer le dropdown si on clique ailleurs
        document.addEventListener('click', function(event) {
            const dropdown = document.getElementById('languageDropdown');
            if (dropdown && !dropdown.contains(event.target)) {
                dropdown.classList.remove('open');
            }
        });

        // Fonction de changement de langue
        function changeLanguage() {
            const selectedLang = gameState.currentLanguage;
            const t = translations[selectedLang];
            
            // Mettre Ã  jour tous les textes
            document.getElementById('gameTitle').textContent = t.gameTitle;
            document.getElementById('cyberBadge').textContent = t.cyberBadge;
            document.getElementById('controlsTitle').textContent = t.controlsTitle;
            document.getElementById('statsTitle').textContent = t.statsTitle;
            document.getElementById('difficultyTitle').textContent = t.difficultyTitle;
            document.getElementById('missionTitle').textContent = t.missionTitle;
            document.getElementById('strategiesTitle').textContent = t.strategiesTitle;
            document.getElementById('aiStatusTitle').textContent = t.aiStatusTitle;
            document.getElementById('achievementsTitle').textContent = t.achievementsTitle;
            
            document.getElementById('startGameText').textContent = t.startGameText;
            document.getElementById('resetText').textContent = t.resetText;
            document.getElementById('hintText').textContent = t.hintText;
            
            document.getElementById('scoreLabel').textContent = t.scoreLabel;
            document.getElementById('levelLabel').textContent = t.levelLabel;
            document.getElementById('movesLabel').textContent = t.movesLabel;
            document.getElementById('timeLabel').textContent = t.timeLabel;
            
            // Mettre Ã  jour le message selon l'Ã©tat du jeu
            if (!gameState.isPlaying) {
                document.getElementById('welcomeMessage').textContent = t.welcomeMessage;
            }
            
            document.getElementById('missionText').innerHTML = t.missionText;
            document.getElementById('strategy1Text').textContent = t.strategy1Text;
            document.getElementById('strategy2Text').textContent = t.strategy2Text;
            document.getElementById('strategy3Text').textContent = t.strategy3Text;
            document.getElementById('strategy4Text').textContent = t.strategy4Text;
            document.getElementById('achievementsContent').textContent = t.achievementsContent;
            
            // Mettre Ã  jour le sÃ©lecteur de difficultÃ©
            updateDifficultySelector();
            
            // Mettre Ã  jour le bouton pause selon l'Ã©tat actuel
            updatePauseButton();
            
            // Mettre Ã  jour le statut IA avec la nouvelle langue
            updateAIStatus();
        }

        // Mettre Ã  jour le sÃ©lecteur de difficultÃ©
        function updateDifficultySelector() {
            const t = translations[gameState.currentLanguage];
            const selector = document.getElementById('difficultySelector');
            const currentValue = selector.value || gameState.difficulty;
            selector.innerHTML = `
                <option value="1">${t.difficultyLevels[1]}</option>
                <option value="2">${t.difficultyLevels[2]}</option>
                <option value="3">${t.difficultyLevels[3]}</option>
                <option value="4">${t.difficultyLevels[4]}</option>
                <option value="5">${t.difficultyLevels[5]}</option>
            `;
            selector.value = currentValue;
        }

        // Changer la difficultÃ©
        function changeDifficulty() {
            const selector = document.getElementById('difficultySelector');
            gameState.difficulty = parseInt(selector.value);
            updateDifficultyIndicator();
            
            if (gameState.isPlaying) {
                resetGame();
            }
        }

        // Mettre Ã  jour l'indicateur de difficultÃ©
        function updateDifficultyIndicator() {
            const dots = document.querySelectorAll('.difficulty-dot');
            dots.forEach((dot, index) => {
                if (index < gameState.difficulty) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        // Initialiser la grille de jeu
        function initializeGrid() {
            const grid = document.getElementById('gameGrid');
            grid.innerHTML = '';
            
            // Ajuster la taille de la grille selon la difficultÃ©
            const size = Math.max(6, Math.min(10, 6 + gameState.difficulty));
            gameState.gridSize = size;
            
            grid.style.gridTemplateColumns = `repeat(${size}, 1fr)`;
            grid.style.gridTemplateRows = `repeat(${size}, 1fr)`;
            
            // CrÃ©er les cellules
            for(let row = 0; row < size; row++) {
                for(let col = 0; col < size; col++) {
                    const cell = document.createElement('div');
                    cell.className = 'grid-cell';
                    cell.dataset.row = row;
                    cell.dataset.col = col;
                    cell.addEventListener('click', () => handleCellClick(row, col));
                    grid.appendChild(cell);
                }
            }
        }

        // DÃ©marrer le jeu
        function startGame() {
            if (gameState.isPaused) {
                resumeGame();
                return;
            }
            
            gameState.isPlaying = true;
            gameState.isPaused = false;
            gameState.score = 0;
            gameState.moves = 0;
            gameState.startTime = Date.now();
            
            // IncrÃ©menter le compteur de tentatives pour ce niveau
            const currentLevelKey = `${gameState.difficulty}_${gameState.level}`;
            if (!gameState.levelAttempts[currentLevelKey]) {
                gameState.levelAttempts[currentLevelKey] = 0;
            }
            gameState.levelAttempts[currentLevelKey]++;
            
            // Calculer le bonus de vitesse aprÃ¨s 2 tentatives
            if (gameState.levelAttempts[currentLevelKey] >= 2) {
                const extraAttempts = gameState.levelAttempts[currentLevelKey] - 1;
                gameState.speedBoosts[currentLevelKey] = extraAttempts * 0.08; // +8% par tentative supplÃ©mentaire
            }
            
            initializeGrid();
            generateLevel();
            startGameTimer();
            
            const t = translations[gameState.currentLanguage];
            showMessage(t.gameStarted);
            
            updateStats();
            updatePauseButton(); // Mettre Ã  jour le bouton pause
            updateAIStatus(); // Mettre Ã  jour le statut IA avec les infos de vitesse
        }

        // GÃ©nÃ©rer un niveau
        function generateLevel() {
            const size = gameState.gridSize;
            
            // Position du joueur (coin supÃ©rieur gauche)
            gameState.playerPos = {x: 0, y: 0};
            
            // GÃ©nÃ©rer des cibles selon la difficultÃ©
            gameState.targets = [];
            const numTargets = Math.min(gameState.difficulty + 2, size * size / 4);
            
            for(let i = 0; i < numTargets; i++) {
                let pos;
                do {
                    pos = {
                        x: Math.floor(Math.random() * size),
                        y: Math.floor(Math.random() * size)
                    };
                } while ((pos.x === 0 && pos.y === 0) || 
                         gameState.targets.some(t => t.x === pos.x && t.y === pos.y));
                
                gameState.targets.push(pos);
            }
            
            // GÃ©nÃ©rer des entitÃ©s IA selon la difficultÃ©
            gameState.aiEntities = [];
            const numAI = Math.max(1, Math.floor(gameState.difficulty / 2));
            
            for(let i = 0; i < numAI; i++) {
                let pos;
                do {
                    pos = {
                        x: Math.floor(Math.random() * size),
                        y: Math.floor(Math.random() * size)
                    };
                } while ((pos.x === 0 && pos.y === 0) || 
                         gameState.targets.some(t => t.x === pos.x && t.y === pos.y) ||
                         gameState.aiEntities.some(ai => ai.x === pos.x && ai.y === pos.y));
                
                gameState.aiEntities.push(pos);
            }
            
            updateGridDisplay();
        }

        // Mettre Ã  jour l'affichage de la grille
        function updateGridDisplay() {
            const cells = document.querySelectorAll('.grid-cell');
            
            cells.forEach(cell => {
                const row = parseInt(cell.dataset.row);
                const col = parseInt(cell.dataset.col);
                
                // RÃ©initialiser la cellule
                cell.className = 'grid-cell';
                cell.textContent = '';
                
                // Position du joueur
                if (row === gameState.playerPos.y && col === gameState.playerPos.x) {
                    cell.classList.add('player');
                    cell.textContent = 'ğŸš€';
                }
                
                // Cibles
                else if (gameState.targets.some(t => t.x === col && t.y === row)) {
                    cell.classList.add('target');
                    cell.textContent = 'âš¡';
                }
                
                // EntitÃ©s IA
                else if (gameState.aiEntities.some(ai => ai.x === col && ai.y === row)) {
                    cell.classList.add('ai');
                    cell.textContent = 'ğŸ¤–';
                }
            });
        }

        // GÃ©rer le clic sur une cellule
        function handleCellClick(row, col) {
            if (!gameState.isPlaying || gameState.isPaused) return;
            
            // VÃ©rifier si le mouvement est valide (adjacent)
            const dx = Math.abs(col - gameState.playerPos.x);
            const dy = Math.abs(row - gameState.playerPos.y);
            
            if (dx + dy !== 1) return; // Mouvement non adjacent
            
            // DÃ©placer le joueur
            gameState.playerPos.x = col;
            gameState.playerPos.y = row;
            gameState.moves++;
            
            // VÃ©rifier collision avec cible (orbe d'Ã©nergie)
            const targetIndex = gameState.targets.findIndex(t => t.x === col && t.y === row);
            if (targetIndex !== -1) {
                gameState.targets.splice(targetIndex, 1);
                gameState.score += 100 * gameState.difficulty;
                
                // Bonus orbe d'Ã©nergie : ralentir temporairement les sentinelles
                gameState.energyBoostTurns = 3; // 3 tours de ralentissement
                
                // Mettre Ã  jour l'affichage immÃ©diatement pour faire disparaÃ®tre l'orbe
                updateGridDisplay();
                
                // Effet visuel pour indiquer le bonus
                showEnergyBoostEffect();
                
                // VÃ©rifier victoire aprÃ¨s un petit dÃ©lai pour voir l'orbe disparaÃ®tre
                if (gameState.targets.length === 0) {
                    setTimeout(() => {
                        winLevel();
                    }, 100);
                    return;
                }
            }
            
            // VÃ©rifier collision avec IA
            if (gameState.aiEntities.some(ai => ai.x === col && ai.y === row)) {
                loseGame();
                return;
            }
            
            // DÃ©placer les entitÃ©s IA
            moveAIEntities();
            
            updateGridDisplay();
            updateStats();
        }

        // DÃ©placer les entitÃ©s IA
        function moveAIEntities() {
            // DÃ©crÃ©menter le boost d'Ã©nergie
            if (gameState.energyBoostTurns > 0) {
                gameState.energyBoostTurns--;
            }
            
            gameState.aiEntities.forEach((ai, index) => {
                // Calculer la probabilitÃ© de mouvement basÃ©e sur le niveau
                // Niveau 1: 55%, Niveau 2: 65%, Niveau 3: 75%, etc.
                let baseMoveChance = 0.55; // 55% de base (vitesse plus rapide)
                const levelBonus = (gameState.level - 1) * 0.10; // +10% par niveau
                
                // Ajouter le bonus de vitesse progressif aprÃ¨s plusieurs tentatives
                const currentLevelKey = `${gameState.difficulty}_${gameState.level}`;
                const speedBoost = gameState.speedBoosts[currentLevelKey] || 0;
                
                let moveChance = Math.min(0.95, baseMoveChance + levelBonus + speedBoost); // Maximum 95%
                
                // Appliquer le ralentissement du boost d'Ã©nergie
                if (gameState.energyBoostTurns > 0) {
                    moveChance *= 0.25; // RÃ©duire la vitesse de 75% pendant le boost
                }
                
                // Chaque sentinelle a sa propre chance de bouger
                if (Math.random() > moveChance) {
                    return; // Cette sentinelle ne bouge pas ce tour
                }
                
                // IA simple : se rapprocher du joueur
                const dx = gameState.playerPos.x - ai.x;
                const dy = gameState.playerPos.y - ai.y;
                
                // ProbabilitÃ© de mouvement intelligent vs alÃ©atoire (aussi augmentÃ©e par les tentatives)
                const baseSmartChance = 0.70 + (gameState.level - 1) * 0.08;
                const smartMoveChance = Math.min(0.90, baseSmartChance + speedBoost * 0.5); // Intelligence aussi amÃ©liorÃ©e
                
                if (Math.random() < smartMoveChance) {
                    // Mouvement intelligent : se rapprocher du joueur
                    if (Math.abs(dx) > Math.abs(dy)) {
                        ai.x += dx > 0 ? 1 : -1;
                    } else {
                        ai.y += dy > 0 ? 1 : -1;
                    }
                } else {
                    // Mouvement alÃ©atoire
                    const moves = [{x: 0, y: 1}, {x: 0, y: -1}, {x: 1, y: 0}, {x: -1, y: 0}];
                    const move = moves[Math.floor(Math.random() * moves.length)];
                    ai.x += move.x;
                    ai.y += move.y;
                }
                
                // Garder dans les limites
                ai.x = Math.max(0, Math.min(gameState.gridSize - 1, ai.x));
                ai.y = Math.max(0, Math.min(gameState.gridSize - 1, ai.y));
            });
            
            // VÃ©rifier collision aprÃ¨s mouvement IA
            if (gameState.aiEntities.some(ai => ai.x === gameState.playerPos.x && ai.y === gameState.playerPos.y)) {
                loseGame();
            }
        }

        // Gagner le niveau
        function winLevel() {
            gameState.level++;
            gameState.score += 500 * gameState.difficulty;
            
            const t = translations[gameState.currentLanguage];
            showMessage(t.gameWon);
            
            // GÃ©nÃ©rer le niveau suivant aprÃ¨s un dÃ©lai
            setTimeout(() => {
                generateLevel();
                const currentT = translations[gameState.currentLanguage]; // RÃ©cupÃ©rer les traductions actuelles
                showMessage(currentT.levelUp);
            }, 2000);
        }

        // Perdre le jeu
        function loseGame() {
            gameState.isPlaying = false;
            clearInterval(gameState.gameTimer);
            
            // Faire disparaÃ®tre la fusÃ©e mais garder les sentinelles
            gameState.playerPos = {x: -1, y: -1}; // Position hors grille pour faire disparaÃ®tre la fusÃ©e
            updateGridDisplay(); // Mettre Ã  jour l'affichage immÃ©diatement
            
            const t = translations[gameState.currentLanguage];
            showMessage(t.gameLost);
            
            // Mettre Ã  jour le statut IA aprÃ¨s la dÃ©faite
            updateAIStatus();
            
            setTimeout(() => {
                showVictoryScreen(false);
            }, 2000);
        }

        // RÃ©initialiser le jeu
        function resetGame() {
            gameState.isPlaying = false;
            gameState.isPaused = false;
            gameState.score = 0;
            gameState.level = 1;
            gameState.moves = 0;
            gameState.elapsedTime = 0;
            gameState.energyBoostTurns = 0;
            
            if (gameState.gameTimer) {
                clearInterval(gameState.gameTimer);
            }
            
            initializeGrid();
            updateStats();
            updatePauseButton();
            updateAIStatus();
            
            const t = translations[gameState.currentLanguage];
            showMessage(t.welcomeMessage);
        }

        // Mettre Ã  jour le statut IA avec les informations de vitesse
        function updateAIStatus() {
            const currentLevelKey = `${gameState.difficulty}_${gameState.level}`;
            const attempts = gameState.levelAttempts[currentLevelKey] || 0;
            const speedBoost = gameState.speedBoosts[currentLevelKey] || 0;
            
            const t = translations[gameState.currentLanguage];
            
            let statusText = t.aiStatusText;
            let analysisText = t.aiAnalysisText;
            
            if (attempts > 0) {
                const baseSpeed = 55 + (gameState.level - 1) * 10;
                const currentSpeed = Math.min(95, baseSpeed + speedBoost * 100);
                
                if (gameState.currentLanguage === 'fr') {
                    statusText = `Sentinelles: ${Math.round(currentSpeed)}% vitesse`;
                    analysisText = attempts === 1 ? 
                        "PremiÃ¨re tentative - Vitesse normale" : 
                        `Tentative ${attempts} - Vitesse augmentÃ©e (+${Math.round(speedBoost * 100)}%)`;
                } else if (gameState.currentLanguage === 'en') {
                    statusText = `Sentinels: ${Math.round(currentSpeed)}% speed`;
                    analysisText = attempts === 1 ? 
                        "First attempt - Normal speed" : 
                        `Attempt ${attempts} - Increased speed (+${Math.round(speedBoost * 100)}%)`;
                } else if (gameState.currentLanguage === 'ar') {
                    statusText = `Ø§Ù„Ø­Ø±Ø§Ø³: ${Math.round(currentSpeed)}% Ø³Ø±Ø¹Ø©`;
                    analysisText = attempts === 1 ? 
                        "Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ - Ø³Ø±Ø¹Ø© Ø¹Ø§Ø¯ÙŠØ©" : 
                        `Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© ${attempts} - Ø³Ø±Ø¹Ø© Ù…ØªØ²Ø§ÙŠØ¯Ø© (+${Math.round(speedBoost * 100)}%)`;
                } else if (gameState.currentLanguage === 'es') {
                    statusText = `Centinelas: ${Math.round(currentSpeed)}% velocidad`;
                    analysisText = attempts === 1 ? 
                        "Primer intento - Velocidad normal" : 
                        `Intento ${attempts} - Velocidad aumentada (+${Math.round(speedBoost * 100)}%)`;
                } else if (gameState.currentLanguage === 'de') {
                    statusText = `WÃ¤chter: ${Math.round(currentSpeed)}% Geschwindigkeit`;
                    analysisText = attempts === 1 ? 
                        "Erster Versuch - Normale Geschwindigkeit" : 
                        `Versuch ${attempts} - ErhÃ¶hte Geschwindigkeit (+${Math.round(speedBoost * 100)}%)`;
                } else if (gameState.currentLanguage === 'zh') {
                    statusText = `å“¨å…µ: ${Math.round(currentSpeed)}% é€Ÿåº¦`;
                    analysisText = attempts === 1 ? 
                        "ç¬¬ä¸€æ¬¡å°è¯• - æ­£å¸¸é€Ÿåº¦" : 
                        `ç¬¬${attempts}æ¬¡å°è¯• - é€Ÿåº¦æå‡ (+${Math.round(speedBoost * 100)}%)`;
                }
            }
            
            document.getElementById('aiStatusText').textContent = statusText;
            document.getElementById('aiAnalysisText').textContent = analysisText;
        }

        // Mettre Ã  jour le bouton pause selon l'Ã©tat et la langue
        function updatePauseButton() {
            const t = translations[gameState.currentLanguage];
            
            if (gameState.isPaused) {
                document.getElementById('pauseIcon').textContent = 'â–¶ï¸';
                document.getElementById('pauseText').textContent = t.resumeText;
            } else {
                document.getElementById('pauseIcon').textContent = 'â¸ï¸';
                document.getElementById('pauseText').textContent = t.pauseText;
            }
        }

        // Mettre en pause
        function pauseGame() {
            if (!gameState.isPlaying) return;
            
            gameState.isPaused = !gameState.isPaused;
            const t = translations[gameState.currentLanguage];
            
            if (gameState.isPaused) {
                clearInterval(gameState.gameTimer);
                showMessage(t.gamePaused);
            } else {
                startGameTimer();
                showMessage(t.gameStarted);
            }
            
            updatePauseButton();
        }

        // Reprendre le jeu
        function resumeGame() {
            gameState.isPaused = false;
            startGameTimer();
            
            const t = translations[gameState.currentLanguage];
            showMessage(t.gameStarted);
            updatePauseButton();
        }

        // Obtenir un indice
        function getHint() {
            if (!gameState.isPlaying || gameState.isPaused) return;
            
            const t = translations[gameState.currentLanguage];
            showMessage(t.hintMessage, 3000);
            
            // Mettre en Ã©vidence la cible la plus proche
            if (gameState.targets.length > 0) {
                let closestTarget = gameState.targets[0];
                let minDistance = Math.abs(closestTarget.x - gameState.playerPos.x) + 
                                Math.abs(closestTarget.y - gameState.playerPos.y);
                
                gameState.targets.forEach(target => {
                    const distance = Math.abs(target.x - gameState.playerPos.x) + 
                                   Math.abs(target.y - gameState.playerPos.y);
                    if (distance < minDistance) {
                        minDistance = distance;
                        closestTarget = target;
                    }
                });
                
                // Mettre en Ã©vidence la cible
                const cells = document.querySelectorAll('.grid-cell');
                cells.forEach(cell => {
                    const row = parseInt(cell.dataset.row);
                    const col = parseInt(cell.dataset.col);
                    
                    if (row === closestTarget.y && col === closestTarget.x) {
                        cell.style.border = '4px solid #ffff00';
                        cell.style.boxShadow = '0 0 30px rgba(255, 255, 0, 1)';
                        
                        setTimeout(() => {
                            cell.style.border = '2px solid rgba(0, 255, 255, 0.3)';
                            cell.style.boxShadow = '';
                        }, 2500);
                    }
                });
            }
        }

        // DÃ©marrer le timer du jeu
        function startGameTimer() {
            gameState.gameTimer = setInterval(() => {
                if (!gameState.isPaused) {
                    gameState.elapsedTime = Date.now() - gameState.startTime;
                    updateTimeDisplay();
                }
            }, 1000);
        }

        // Mettre Ã  jour l'affichage du temps
        function updateTimeDisplay() {
            const seconds = Math.floor(gameState.elapsedTime / 1000);
            const minutes = Math.floor(seconds / 60);
            const displaySeconds = seconds % 60;
            
            const timeString = `${minutes.toString().padStart(2, '0')}:${displaySeconds.toString().padStart(2, '0')}`;
            document.getElementById('timeValue').textContent = timeString;
        }

        // Mettre Ã  jour les statistiques
        function updateStats() {
            document.getElementById('scoreValue').textContent = gameState.score;
            document.getElementById('levelValue').textContent = gameState.level;
            document.getElementById('movesValue').textContent = gameState.moves;
        }

        // Afficher un message
        function showMessage(message, duration = 0) {
            const messageElement = document.getElementById('gameMessage');
            messageElement.innerHTML = `<span>${message}</span>`;
            
            if (duration > 0) {
                setTimeout(() => {
                    if (!gameState.isPlaying) {
                        const currentT = translations[gameState.currentLanguage]; // Toujours rÃ©cupÃ©rer la langue actuelle
                        messageElement.innerHTML = `<span>${currentT.welcomeMessage}</span>`;
                    }
                }, duration);
            }
        }

        // Effet visuel du boost d'Ã©nergie
        function showEnergyBoostEffect() {
            const currentT = translations[gameState.currentLanguage]; // Toujours rÃ©cupÃ©rer la langue actuelle
            const boostMessage = currentT.energyBoostMessage;
            showMessage(boostMessage, 2000);
            
            // Effet visuel sur toute la grille
            const grid = document.getElementById('gameGrid');
            grid.style.boxShadow = '0 0 50px rgba(0, 255, 0, 0.8), inset 0 0 30px rgba(0, 255, 0, 0.3)';
            grid.style.border = '4px solid rgba(0, 255, 0, 0.8)';
            
            setTimeout(() => {
                grid.style.boxShadow = '0 0 50px rgba(0, 255, 255, 0.4), inset 0 0 30px rgba(0, 255, 255, 0.1)';
                grid.style.border = '2px solid rgba(0, 255, 255, 0.3)';
            }, 2000);
        }

        // Afficher l'Ã©cran de victoire/dÃ©faite
        function showVictoryScreen(won) {
            const currentT = translations[gameState.currentLanguage]; // Toujours rÃ©cupÃ©rer la langue actuelle
            
            const overlay = document.createElement('div');
            overlay.className = 'victory-animation';
            
            const content = document.createElement('div');
            content.className = 'victory-content';
            
            const title = won ? currentT.gameWon : currentT.gameLost;
            const scoreText = `Score Final: ${gameState.score}`;
            const levelText = `Niveau Atteint: ${gameState.level}`;
            const timeText = `Temps: ${document.getElementById('timeValue').textContent}`;
            
            content.innerHTML = `
                <h2>${title}</h2>
                <p style="margin: 30px 0;">${scoreText}</p>
                <p style="margin: 20px 0; color: #00ffff;">${levelText}</p>
                <p style="margin: 20px 0; color: #00ffff;">${timeText}</p>
                <button onclick="resetGame(); document.body.removeChild(document.querySelector('.victory-animation'))" style="
                    margin: 30px 20px 20px 20px;
                    padding: 20px 40px;
                    background: linear-gradient(145deg, #00ffff, #0080ff);
                    color: white;
                    border: none;
                    border-radius: 25px;
                    font-size: 18px;
                    font-weight: bold;
                    cursor: pointer;
                    transition: all 0.3s ease;
                ">${currentT.startGameText}</button>
            `;
            
            overlay.appendChild(content);
            document.body.appendChild(overlay);
        }

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            createCyberParticles();
            initializeGrid();
            updateStats();
            updateDifficultyIndicator();
            updateDifficultySelector();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98536a8af288ae33',t:'MTc1ODg5NjU3NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
